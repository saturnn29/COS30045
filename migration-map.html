<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="description" content="Data Visualization"/>
        <meta name="keywords" content="World Map"/>
        <meta name="author" content="Tran Hoang Duy Linh"/>
        
        <title>World Map Demo</title>
        <!-- Load Leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="../includes/style.css">
        <script src="migration-map.js"></script>
    </head>
    <body>
        <header>
            <h1>Number of Immigrants based on routes to EU countries</h1>
        </header>
        <div id="navbarPlaceholder"></div>
        <!-- Create an element where the map will take place -->
        <div id="mapid" style="width: 800px; height: 600px;"></div>
        <div class="tooltip"></div>
        <div id="rectangle"></div> <!-- Add this line for the rectangle -->  
        <div id="chart"></div>  
        
        <div class="timeline-wrapper drill-year-wrapper" style="display: block">
            <div class="day-scroller">
                <div class="day-wrapper" data-total-days-width="1141.124199999999">
                    <div class="day-item" data-year="2016" data-month="1" data-day="1" data-total="509">
                        <div class="day">1</div>
                        <div class="figure">509</div>
                    </div>
                    <div class="day-item" data-year="2016" data-month="1" data-day="2" data-total="509">
                        <div class="day">2</div>
                        <div class="figure">2028</div>
                    </div>
                    <div class="day-item" data-year="2016" data-month="1" data-day="3" data-total="509">
                        <div class="day">3</div>
                        <div class="figure">2611</div>
                    </div>
                    <div class="day-item" data-year="2016" data-month="1" data-day="4" data-total="509">
                        <div class="day">4</div>
                        <div class="figure">2658</div>
                    </div>
                    
                </div>
            </div>
            
            <div class="year-scroller">
                <div class="year-wrapper compact" style="display: block;">
                    <div class="reset-wrapper hidden-sm hidden-xs"></div>
                    <div class="year-item" data-year="2016">
                        <div class="year">2016</div>
                        <div class="figure">389,976</div>
                    </div>
                    <div class="year-item" data-year="2017">
                        <div class="year">2017</div>
                        <div class="figure">187,499</div>
                    </div>
                </div>
            </div>
        </div>
        <div></div>
    </body>
    <div id="footerPlaceholder"></div>
    <script>
        // Function to load navbar
        function loadNavbar() {
          fetch('includes/navbar.html')
            .then(response => response.text())
            .then(data => {
              document.getElementById('navbarPlaceholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error));
        }
      
        // Function to load footer
        function loadFooter() {
          fetch('includes/footer.html')
            .then(response => response.text())
            .then(data => {
              document.getElementById('footerPlaceholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading footer:', error));
        }
      
        // Call functions to load navbar and footer after DOM content is loaded
        document.addEventListener('DOMContentLoaded', function() {
          loadNavbar();
          loadFooter();
          
          document.body.style.opacity = 1;
      
        });
      </script>
</html>
